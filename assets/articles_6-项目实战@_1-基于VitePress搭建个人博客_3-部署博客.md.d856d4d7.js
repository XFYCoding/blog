import{_ as t,c as r,E as s,B as e,z as p,a as c,R as i,G as o,o as y}from"./chunks/framework.e093bc19.js";const f=JSON.parse('{"title":"部署博客","description":"","frontmatter":{"title":"部署博客","author":"xfycoding","startDate":"2022-5-12","readTime":"大约30分钟","tags":["Java","Java基础"]},"headers":[],"relativePath":"articles/6-项目实战@/1-基于VitePress搭建个人博客/3-部署博客.md","filePath":"articles/6-项目实战@/1-基于VitePress搭建个人博客/3-部署博客.md","lastUpdated":1683812179000}'),d={name:"articles/6-项目实战@/1-基于VitePress搭建个人博客/3-部署博客.md"},b=p("h1",{id:"部署博客",tabindex:"-1"},[c("部署博客 "),p("a",{class:"header-anchor",href:"#部署博客","aria-label":'Permalink to "部署博客"'},"​")],-1),D=i(`<h2 id="部署到github-pages" tabindex="-1">部署到GitHub Pages <a class="header-anchor" href="#部署到github-pages" aria-label="Permalink to &quot;部署到GitHub Pages&quot;">​</a></h2><h3 id="创建github仓库" tabindex="-1">创建GitHub仓库 <a class="header-anchor" href="#创建github仓库" aria-label="Permalink to &quot;创建GitHub仓库&quot;">​</a></h3><p>部署到GitHub Pages，首先你要有一个仓库，创建仓库步骤如下：</p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280218911.png" alt="image-20230423005139092" data-fancybox="gallery"></p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/destroy2.png" alt="image-20230423005321773" data-fancybox="gallery"></p><h3 id="配置github-pages" tabindex="-1">配置GitHub Pages <a class="header-anchor" href="#配置github-pages" aria-label="Permalink to &quot;配置GitHub Pages&quot;">​</a></h3><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280218459.png" alt="image-20230423005745670" data-fancybox="gallery"></p><p>选择分支，按保存即可,几分钟后就会出现GitHub Pages，最终效果图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280218775.png" alt="image-20230423010054134" data-fancybox="gallery"></p><h3 id="部署" tabindex="-1">部署 <a class="header-anchor" href="#部署" aria-label="Permalink to &quot;部署&quot;">​</a></h3><p>设置根目录/(root),当然也可以选择其它目录,点击保存，如果选择其它目录比如docs，docs/.vitepress/config.js就需要配置一个base</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">//仓库名</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">base</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/vitepresstest/</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>vitepress官网给我们提供了一个脚本文件<code>deploy.sh</code>,我们只需要改下远程仓库即可，配置路径如下：</p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280218104.png" alt="image-20230423011134733" data-fancybox="gallery"></p><p>deploy.sh配置如下：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">#!/usr/bin/env sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 确保脚本抛出遇到的错误</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-e</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 生成静态文件</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 进入生成的文件夹</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">docs/.vitepress/dist</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 如果是发布到自定义域名</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># echo &#39;www.xxx.com&#39; &gt; CNAME</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-A</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">add</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># git push -f git@github.com:你的git名/你的git项目名.git master:你的git分支</span></span>
<span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">push</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-f</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">git@github.com:xfycoding/vitepresstest.git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">master:pages</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><p>配置package.json</p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280219900.png" alt="image-20230423011350838" data-fancybox="gallery"></p><p>代码如下：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">dev</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress dev docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress build docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">serve</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vitepress serve docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">deploy</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deploy.sh</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>执行命令：</p><div class="language-sh line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">$</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">npm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">deploy</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>访问上面部署GitHub Pages链接，最终效果图如下：</p><p><img src="https://cdn.jsdelivr.net/gh/xfycoding/blogImage/img/202304280219501.png" alt="image-20230423012251492" data-fancybox="gallery"></p><h1 id="进阶" tabindex="-1">进阶 <a class="header-anchor" href="#进阶" aria-label="Permalink to &quot;进阶&quot;">​</a></h1>`,25);function u(a,g,m,C,F,h){const n=o("ArticlesMetadata"),l=o("ClientOnly");return y(),r("div",null,[b,s(l,null,{default:e(()=>[s(n,{article:a.$frontmatter},null,8,["article"])]),_:1}),D,s(l,null,{default:e(()=>[s(n,{article:a.$frontmatter},null,8,["article"])]),_:1})])}const v=t(d,[["render",u]]);export{f as __pageData,v as default};
